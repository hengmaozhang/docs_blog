```CC
void GenList <T>::Copy(const GenList <T>& l) const
{// Make a copy of l.
	frst= Copy (l.first);
}

// Workhorse
GenListNode <T>* GenList<T>::Copy(GenListNode <T>* p)
{// Copy the nonrecursive list with no shared sublists pointed at by p
GenListNode <T>*q=0;
谈 (p){
q= new GenListNode <T>;
q->tag=p->tag;
if(p-tag)q→down=Copy(p→>down);
else q->data =p->data;
q->next= Copy(p->next);
return qs
Program 4.35: Copying a list
```



```c++
int GenList <T>::NumberOfAtoms ()
{// Compute the number of atoms.
	return Depth (frst);    
}
// Workhorse
template <class T>
int GenList <T>::Depth(GenListNode <T>*s){
    if (!s) return 0; // empty list
    GenListNode <T> *current = s;
    int m = 0;
    while (current){
    	if (current -> tag) m += Depth(current -> down);
    	current = current->next,
    }
	return m + 1;
}
```

```c++
int GenList <T>::MaxOfSubtable ()
{// Compute the max of subtable.
	return Depth (frst);    
}
// Workhorse
template <class T>
int GenList <T>::Depth(GenListNode <T>*s){
    if (!s) return 0; // empty list
    GenListNode <T> *current = s;
    int m = 0;
    while (current){
    	if (current -> tag){
            int n = 0;
            n += Depth(current -> down);
            m = max{m,n};
        } 
    	current = current->next,
    }
	return 1;
}
```

